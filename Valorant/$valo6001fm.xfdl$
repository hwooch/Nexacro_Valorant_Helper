<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="valo6001fm" width="2000" height="980" titletext="무기" onload="valo6001fm_onload" ontimer="valo6001fm_ontimer" onclose="valo6001fm_onclose">
    <Layouts>
      <Layout height="980" width="2000">
        <Button id="btn_reload" taborder="0" text="무기 데이터 새로 받아오기" left="2130" top="490" width="520" height="243" background="yellow" font="normal 30pt/normal &quot;Arial&quot;" onclick="btn_reload_onclick" visible="false"/>
        <Div id="div_weapon" taborder="1" text="Div00" left="230" top="50" height="140" url="Valorant::valo6002fm.xfdl" formscrollbartype="autoindicator" right="230" borderRadius="20px"/>
        <Static id="sta_weapon_name" taborder="2" left="150" top="div_weapon:30" width="120" height="31" color="white" text="무기 이름" fittocontents="width" font="normal 20pt/normal &quot;이사만루체 Medium&quot;"/>
        <Static id="sta_weapon_category" taborder="3" left="sta_weapon_name:30" top="div_weapon:34" width="120" height="23" text="무기 종류" fittocontents="width" cssclass="sta_weapon_description"/>
        <Static id="sta_weapon_description" taborder="4" left="150" top="sta_weapon_name:20" width="120" height="23" text="무기 설명" fittocontents="width" cssclass="sta_weapon_description"/>
        <Static id="sta_weapon_cost" taborder="5" top="div_weapon:34" width="120" height="23" text="무기 가격" fittocontents="width" textAlign="right" left="sta_weapon_category:20" cssclass="sta_weapon_description"/>
        <Static id="sta_statistics" taborder="7" text="무기 스탯" left="1190" top="sta_weapon_description:-60" height="70" background="#31313c" borderRadius="20px 20px 0px 0px" font="normal 25px/normal &quot;AppleSDGothicNeoEB00&quot;" color="white" padding="0px 0px 0px 20px" border="0px" right="150"/>
        <Static id="sta_statistics_1" taborder="10" text="기본 스탯" left="1190" top="sta_statistics:0" height="50" background="#282830" font="normal 16px/normal &quot;AppleSDGothicNeoEB00&quot;" color="#9b9baa" padding="0px 0px 0px 20px" border="0px" right="150"/>
        <ListView id="list_statistics" taborder="8" top="sta_statistics_1:0" height="322" background="#31313c" border="0px none" right="150" binddataset="ds_view_weapon" left="1190">
          <Formats>
            <Format id="default">
              <Band id="body" width="100%" height="320" background="transparent">
                <Cell id="Cell00" left="0" top="363" width="120" height="24" text="UUID"/>
                <Cell id="Cell01" left="125" top="363" width="180" height="24" text="bind:UUID"/>
                <Cell id="Cell02" left="315" top="363" width="120" height="24" text="DISPLAY_NAME"/>
                <Cell id="Cell03" left="440" top="363" width="180" height="24" text="bind:DISPLAY_NAME"/>
                <Cell id="Cell04" left="0" top="392" width="120" height="24" text="DESCRIPTION"/>
                <Cell id="Cell05" left="125" top="392" width="180" height="24" text="bind:DESCRIPTION"/>
                <Cell id="Cell06" left="90" top="23" width="130" height="34" text="탄창 용량" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
                <Cell id="Cell07" left="15" top="15" width="50" height="50" displaytype="imagecontrol" background="url('theme://images/valo_weapon_bullet.png') no-repeat center center /contain"/>
                <Cell id="Cell08" left="0" top="421" width="120" height="24" text="COST"/>
                <Cell id="Cell09" left="125" top="421" width="180" height="24" text="bind:COST"/>
                <Cell id="Cell10" left="315" top="421" width="120" height="24" text="CATEGORY"/>
                <Cell id="Cell11" left="440" top="421" width="180" height="24" text="bind:CATEGORY"/>
                <Cell id="Cell12" left="0" top="450" width="120" height="24" text="FIRE_RATE"/>
                <Cell id="Cell13" left="125" top="450" width="180" height="24" text="bind:FIRE_RATE"/>
                <Cell id="Cell15" left="280" top="23" width="140" height="34" text="expr:MAGAZINE_SIZE+&quot; 발&quot;" displaytype="text" textAlign="center" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
                <Cell id="Cell17" left="280" top="103" width="140" height="34" text="expr:EQUIP_TIME + &quot; 초&quot;" displaytype="text" textAlign="center" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
                <Cell id="Cell19" left="280" top="183" width="140" height="34" text="expr:RELOAD_TIME + &quot; 초&quot;" displaytype="text" textAlign="center" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
                <Cell id="Cell20" left="0" top="508" width="120" height="24" text="RUN_SPEED"/>
                <Cell id="Cell21" left="125" top="508" width="180" height="24" text="bind:RUN_SPEED"/>
                <Cell id="Cell22" left="315" top="508" width="120" height="24" text="FIRST_ACCURACY"/>
                <Cell id="Cell23" left="440" top="508" width="180" height="24" text="bind:FIRST_ACCURACY"/>
                <Cell id="cell_wall_damage" left="280" top="263" width="140" height="34" textAlign="center" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;" displaytype="decoratetext"/>
                <Cell id="Cell26" left="315" top="537" width="120" height="24" text="HAS_ADS"/>
                <Cell id="Cell27" left="440" top="537" width="180" height="24" text="bind:HAS_ADS"/>
                <Cell id="Cell28" left="0" top="566" width="120" height="24" text="ADS_ZOOM"/>
                <Cell id="Cell29" left="125" top="566" width="180" height="24" text="bind:ADS_ZOOM"/>
                <Cell id="Cell30" left="315" top="566" width="120" height="24" text="ADS_FIRE_RATE"/>
                <Cell id="Cell31" left="440" top="566" width="180" height="24" text="bind:ADS_FIRE_RATE"/>
                <Cell id="Cell32" left="0" top="595" width="120" height="24" text="ADS_RUN_SPEED"/>
                <Cell id="Cell33" left="125" top="595" width="180" height="24" text="bind:ADS_RUN_SPEED"/>
                <Cell id="Cell34" left="315" top="595" width="120" height="24" text="ADS_ACCURACY"/>
                <Cell id="Cell35" left="440" top="595" width="180" height="24" text="bind:ADS_ACCURACY"/>
                <Cell id="Cell36" left="0" top="624" width="120" height="24" text="ALT_FIRE_TYPE"/>
                <Cell id="Cell37" left="125" top="624" width="180" height="24" text="bind:ALT_FIRE_TYPE"/>
                <Cell id="Cell38" left="315" top="624" width="120" height="24" text="ALT_SHOTGUN_PELLETS"/>
                <Cell id="Cell39" left="440" top="624" width="180" height="24" text="bind:ALT_SHOTGUN_PELLETS"/>
                <Cell id="Cell40" left="0" top="653" width="120" height="24" text="ALT_BURST_RATE"/>
                <Cell id="Cell41" left="125" top="653" width="180" height="24" text="bind:ALT_BURST_RATE"/>
                <Cell id="Cell42" left="315" top="653" width="120" height="24" text="ALT_BURST_DISTANCE"/>
                <Cell id="Cell43" left="440" top="653" width="180" height="24" text="bind:ALT_BURST_DISTANCE"/>
                <Cell id="Cell44" left="0" top="80" height="2" background="#1f2326" right="0"/>
                <Cell id="Cell45" left="15" top="95" width="50" height="50" displaytype="imagecontrol" background="url('theme://images/valo_weapon_equip.png') no-repeat center center /contain"/>
                <Cell id="Cell48" left="0" top="160" height="2" background="#1f2326" right="0"/>
                <Cell id="Cell49" left="90" top="103" width="130" height="34" text="장착 시간" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
                <Cell id="Cell50" left="15" top="175" width="50" height="50" displaytype="imagecontrol" background="url('theme://images/valo_weapon_reload.png') no-repeat center center /contain"/>
                <Cell id="Cell53" left="0" top="240" height="2" background="#1f2326" right="0"/>
                <Cell id="Cell54" left="15" top="255" width="50" height="50" displaytype="imagecontrol" background="url('theme://images/valo_weapon_wall.png') no-repeat center center /contain"/>
                <Cell id="Cell58" left="90" top="263" width="130" height="34" text="벽 관통력" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
                <Cell id="Cell59" left="90" top="183" width="130" height="34" text="재장전 시간" color="white" font="normal 19px/normal &quot;AppleSDGothicNeoEB00&quot;"/>
              </Band>
            </Format>
          </Formats>
        </ListView>
        <Static id="sta_devide_1" taborder="11" left="1190" top="sta_statistics_1:-2" height="2" background="#1f2326" right="150"/>
        <Static id="sta_devide_0" taborder="9" top="sta_statistics:-2" height="2" background="#1f2326" left="1190" right="150"/>
        <Static id="sta_statistics_2" taborder="12" text="거리별 피해량" left="1190" top="list_statistics:0" height="50" background="#282830" font="normal 16px/normal &quot;AppleSDGothicNeoEB00&quot;" color="#9b9baa" padding="0px 0px 0px 20px" border="0px" right="150"/>
        <ListView id="list_damage" taborder="15" left="1190" top="sta_statistics_2:-2" height="300" binddataset="ds_view_damage" background="#1f2326" border="0px none" right="150" borderRadius="0px 0px 20px 20px" formatid="default">
          <Formats>
            <Format id="default">
              <Band id="body" width="50%" height="150" background="#31313c" border="2px solid #1f2326,0px none,0px none">
                <Cell id="cell_start" left="20" top="10" width="50" height="30" text="expr:RANGE_START + &quot;m&quot;" color="white" font="normal 20px/normal &quot;AppleSDGothicNeoEB00&quot;" verticalAlign="middle" textAlign="left"/>
                <Cell id="cell_width" left="cell_start:7" width="110" height="2" background="white" color="white" font="normal 20px/normal &quot;AppleSDGothicNeoEB00&quot;" verticalAlign="middle" textAlign="center" top="27"/>
                <Cell id="cell_end" left="cell_width:10" top="10" width="180" height="30" text="expr:RANGE_END + &quot;m&quot;" color="white" font="normal 20px/normal &quot;AppleSDGothicNeoEB00&quot;" verticalAlign="middle" textAlign="left"/>
                <Cell id="cell_head" left="31" top="53" width="40" height="24" text="머리" color="#e84057" font="normal 17px/normal &quot;AppleSDGothicNeoEB00&quot;" textAlign="left"/>
                <Cell id="cell_head_damage" left="116" top="53" width="80" height="24" text="expr:Math.round(HEAD * 10) / 10" color="#e84057" font="17px/normal &quot;AppleSDGothicNeoB00&quot;" textAlign="left"/>
                <Cell id="cell_body" left="31" top="83" width="40" height="24" text="몸통" color="white" font="normal 17px/normal &quot;AppleSDGothicNeoEB00&quot;" textAlign="left"/>
                <Cell id="cell_body_damage" left="116" top="83" width="80" height="24" text="expr:Math.round(BODY * 10) / 10" color="white" font="17px/normal &quot;AppleSDGothicNeoB00&quot;" textAlign="left"/>
                <Cell id="cell_leg" left="31" top="113" width="40" height="24" text="다리" color="white" font="normal 17px/normal &quot;AppleSDGothicNeoEB00&quot;" textAlign="left"/>
                <Cell id="cell_leg_damage" left="116" top="113" width="80" height="24" text="expr:Math.round(LEG * 10) / 10" color="white" font="17px/normal &quot;AppleSDGothicNeoB00&quot;" textAlign="left"/>
              </Band>
            </Format>
            <Format id="default2">
              <Band id="body" width="100%" height="150" background="#31313c" border="2px solid #1f2326,0px none,0px none">
                <Cell id="cell_start" left="20" top="10" width="50" height="30" text="expr:RANGE_START + &quot;m&quot;" color="white" font="normal 20px/normal &quot;AppleSDGothicNeoEB00&quot;" verticalAlign="middle" textAlign="left"/>
                <Cell id="cell_width" left="cell_start:7" width="110" height="2" background="white" color="white" font="normal 20px/normal &quot;AppleSDGothicNeoEB00&quot;" verticalAlign="middle" textAlign="center" top="27"/>
                <Cell id="cell_end" left="cell_width:10" top="10" width="180" height="30" text="expr:RANGE_END + &quot;m&quot;" color="white" font="normal 20px/normal &quot;AppleSDGothicNeoEB00&quot;" verticalAlign="middle" textAlign="left"/>
                <Cell id="cell_head" left="31" top="53" width="40" height="24" text="머리" color="#e84057" font="normal 17px/normal &quot;AppleSDGothicNeoEB00&quot;" textAlign="left"/>
                <Cell id="cell_head_damage" left="116" top="53" width="80" height="24" text="expr:Math.round(HEAD * 10) / 10" color="#e84057" font="17px/normal &quot;AppleSDGothicNeoB00&quot;" textAlign="left"/>
                <Cell id="cell_body" left="31" top="83" width="40" height="24" text="몸통" color="white" font="normal 17px/normal &quot;AppleSDGothicNeoEB00&quot;" textAlign="left"/>
                <Cell id="cell_body_damage" left="116" top="83" width="80" height="24" text="expr:Math.round(BODY * 10) / 10" color="white" font="17px/normal &quot;AppleSDGothicNeoB00&quot;" textAlign="left"/>
                <Cell id="cell_leg" left="31" top="113" width="40" height="24" text="다리" color="white" font="normal 17px/normal &quot;AppleSDGothicNeoEB00&quot;" textAlign="left"/>
                <Cell id="cell_leg_damage" left="116" top="113" width="80" height="24" text="expr:Math.round(LEG * 10) / 10" color="white" font="17px/normal &quot;AppleSDGothicNeoB00&quot;" textAlign="left"/>
              </Band>
            </Format>
          </Formats>
        </ListView>
        <Static id="sta_devide_3" taborder="13" left="1190" top="sta_statistics_2:-2" height="2" background="#1f2326" right="150"/>
        <Static id="sta_devide_2" taborder="14" top="list_statistics:-2" height="2" background="#1f2326" right="150" left="1190"/>
        <Static id="sta_background" taborder="16" left="150" top="sta_weapon_description:30" height="755" right="list_statistics:50" text="" cssclass="sta_background"/>
        <VideoPlayer id="video_weapon" taborder="6" left="169" top="sta_weapon_description:45" height="539" autoplay="true" repeat="true" tabstop="false" showcontrolbar="true" right="list_statistics:69" onplaystatuschanged="video_weapon_onplaystatuschanged"/>
        <Button id="btn_normal" taborder="18" text="기본 발사" top="video_weapon:35" height="26" font="normal 17pt/normal &quot;AppleSDGothicNeoEB00&quot;" color="white" right="video_weapon:-390" onclick="btn_normal_onclick" cursor="pointer" width="86"/>
        <Grid id="grd_ranking" taborder="17" left="165" top="btn_normal:35" height="90" binddataset="ds_view_weapon" autofittype="col" background="transparent" tabstop="false" right="list_statistics:65" cssclass="grid_test" oncellclick="grd_ranking_oncellclick" onmousemove="grd_ranking_onmousemove" formatid="origin" border="0px solid #31313c" borderRadius="0px 0px 20px 20px">
          <Formats>
            <Format id="origin">
              <Columns>
                <Column size="150"/>
                <Column size="150"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="45" band="head"/>
                <Row size="45"/>
              </Rows>
              <Band id="head">
                <Cell text="연사 속도" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="이동 속도 배율" font="normal 18px/normal &quot;이사만루체 Medium&quot;" background="#85859d"/>
                <Cell col="2" text="첫 사격 정확도" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
              <Band id="body">
                <Cell text="expr:Math.round(FIRE_RATE  * 100) / 100 + &quot; 발/초&quot;" textAlign="center" verticalAlign="middle" font="normal 18px/normal &quot;이사만루체 Medium&quot;" border="0px solid #31313c"/>
                <Cell col="1" text="expr:Math.round(RUN_SPEED * 100) / 100 + &quot;x&quot;" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="2" text="expr:Math.round(FIRST_ACCURACY * 100) / 100" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
            </Format>
            <Format id="switch_classic">
              <Columns>
                <Column size="150"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="45" band="head"/>
                <Row size="45"/>
              </Rows>
              <Band id="head">
                <Cell text="산탄 발사 수" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="점사 속도" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
              <Band id="body">
                <Cell text="bind:ALT_SHOTGUN_PELLETS" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="bind:ALT_BURST_RATE" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
            </Format>
            <Format id="switch_bukky">
              <Columns>
                <Column size="150"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="45" band="head"/>
                <Row size="45"/>
              </Rows>
              <Band id="head">
                <Cell text="탄환 발사 수" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="점사 거리" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
              <Band id="body">
                <Cell text="bind:ALT_SHOTGUN_PELLETS" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="expr:ALT_BURST_DISTANCE + &quot;m&quot;" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
            </Format>
            <Format id="switch_zoom">
              <Columns>
                <Column size="150"/>
                <Column size="150"/>
                <Column size="150"/>
                <Column size="150"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="45" band="head"/>
                <Row size="45"/>
              </Rows>
              <Band id="head">
                <Cell text="점사 횟수" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="확대 배율" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="2" text="연사 속도" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="3" text="이동 속도 배율" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="4" text="첫 사격 정확도" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
              <Band id="body">
                <Cell text="expr:ADS_BURST_COUNT +&quot;회&quot;" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="1" text="expr:Math.round(ADS_ZOOM * 100) / 100+ &quot;x&quot;" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="2" text="expr:Math.round(ADS_FIRE_RATE  * 100) / 100 + &quot; 발/초&quot;" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="3" text="expr:Math.round(ADS_RUN_SPEED * 100) / 100 + &quot;x&quot;" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
                <Cell col="4" text="expr:Math.round(ADS_ACCURACY * 100) / 100" textAlign="center" verticalAlign="middle" border="0px solid #31313c" font="normal 18px/normal &quot;이사만루체 Medium&quot;"/>
              </Band>
            </Format>
            <Format id="origin2">
              <Columns>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="40" band="head"/>
                <Row size="40"/>
              </Rows>
              <Band id="head">
                <Cell text="UUID"/>
                <Cell col="1" text="DISPLAY_NAME"/>
                <Cell col="2" text="DESCRIPTION"/>
                <Cell col="3" text="DISPLAY_ICON"/>
                <Cell col="4" text="COST"/>
                <Cell col="5" text="CATEGORY"/>
                <Cell col="6" text="FIRE_RATE"/>
                <Cell col="7" text="MAGAZINE_SIZE"/>
                <Cell col="8" text="EQUIP_TIME"/>
                <Cell col="9" text="RELOAD_TIME"/>
                <Cell col="10" text="RUN_SPEED"/>
                <Cell col="11" text="FIRST_ACCURACY"/>
                <Cell col="12" text="WALL_PENETRATION"/>
                <Cell col="13" text="HAS_ADS"/>
                <Cell col="14" text="ADS_ZOOM"/>
                <Cell col="15" text="ADS_FIRE_RATE"/>
                <Cell col="16" text="ADS_RUN_SPEED"/>
                <Cell col="17" text="ADS_ACCURACY"/>
                <Cell col="18" text="ALT_FIRE_TYPE"/>
                <Cell col="19" text="ALT_SHOTGUN_PELLETS"/>
                <Cell col="20" text="ALT_BURST_RATE"/>
                <Cell col="21" text="ALT_BURST_DISTANCE"/>
              </Band>
              <Band id="body">
                <Cell text="bind:UUID"/>
                <Cell col="1" text="bind:DISPLAY_NAME"/>
                <Cell col="2" text="bind:DESCRIPTION"/>
                <Cell col="3" text="bind:DISPLAY_ICON"/>
                <Cell col="4" text="bind:COST"/>
                <Cell col="5" text="bind:CATEGORY"/>
                <Cell col="6" text="bind:FIRE_RATE"/>
                <Cell col="7" text="bind:MAGAZINE_SIZE"/>
                <Cell col="8" text="bind:EQUIP_TIME"/>
                <Cell col="9" text="bind:RELOAD_TIME"/>
                <Cell col="10" text="bind:RUN_SPEED"/>
                <Cell col="11" text="bind:FIRST_ACCURACY"/>
                <Cell col="12" text="bind:WALL_PENETRATION"/>
                <Cell col="13" text="bind:HAS_ADS"/>
                <Cell col="14" text="bind:ADS_ZOOM"/>
                <Cell col="15" text="bind:ADS_FIRE_RATE"/>
                <Cell col="16" text="bind:ADS_RUN_SPEED"/>
                <Cell col="17" text="bind:ADS_ACCURACY"/>
                <Cell col="18" text="bind:ALT_FIRE_TYPE"/>
                <Cell col="19" text="bind:ALT_SHOTGUN_PELLETS"/>
                <Cell col="20" text="bind:ALT_BURST_RATE"/>
                <Cell col="21" text="bind:ALT_BURST_DISTANCE"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_sub" taborder="19" text="보조 발사" left="video_weapon:-390" top="video_weapon:35" width="86" height="26" font="normal 17pt/normal &quot;AppleSDGothicNeoEB00&quot;" color="white" onclick="btn_sub_onclick" cursor="pointer"/>
        <Button id="btn_hide" taborder="20" left="765" width="50" height="30" top="sta_background:0"/>
        <Button id="btn_normal_1" taborder="21" text="기본 발사" left="btn_normal:38" top="video_weapon:35" height="26" font="normal 17pt/normal &quot;AppleSDGothicNeoEB00&quot;" color="white" right="btn_sub:38" cursor="pointer" visible="false" onclick="btn_normal_1_onclick"/>
        <Button id="btn_hide_1" taborder="22" left="1410" width="50" height="30" top="list_damage:0"/>
        <Button id="btn_prev" taborder="23" top="90" width="60" height="60" text="&lt;" onclick="btn_prev_onclick" left="150" cssclass="btn_next"/>
        <Button id="btn_next" taborder="24" top="90" width="60" text="&gt;" onclick="btn_next_onclick" right="150" height="60" cssclass="btn_next"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_weapon">
        <ColumnInfo>
          <Column id="UUID" type="STRING" size="256"/>
          <Column id="DISPLAY_NAME" type="STRING" size="256"/>
          <Column id="DESCRIPTION" type="STRING" size="4000"/>
          <Column id="DISPLAY_ICON" type="STRING" size="1000"/>
          <Column id="COST" type="INT" size="256"/>
          <Column id="CATEGORY" type="STRING" size="256"/>
          <Column id="FIRE_RATE" type="FLOAT" size="256"/>
          <Column id="MAGAZINE_SIZE" type="INT" size="256"/>
          <Column id="EQUIP_TIME" type="FLOAT" size="256"/>
          <Column id="RELOAD_TIME" type="FLOAT" size="256"/>
          <Column id="RUN_SPEED" type="FLOAT" size="256"/>
          <Column id="FIRST_ACCURACY" type="FLOAT" size="256"/>
          <Column id="WALL_PENETRATION" type="STRING" size="256"/>
          <Column id="HAS_ADS" type="STRING" size="256"/>
          <Column id="ADS_ZOOM" type="FLOAT" size="256"/>
          <Column id="ADS_FIRE_RATE" type="FLOAT" size="256"/>
          <Column id="ADS_RUN_SPEED" type="FLOAT" size="256"/>
          <Column id="ADS_ACCURACY" type="FLOAT" size="256"/>
          <Column id="ALT_FIRE_TYPE" type="STRING" size="256"/>
          <Column id="ALT_SHOTGUN_PELLETS" type="INT" size="256"/>
          <Column id="ALT_BURST_RATE" type="FLOAT" size="256"/>
          <Column id="ALT_BURST_DISTANCE" type="FLOAT" size="256"/>
          <Column id="ADS_BURST_COUNT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_damage">
        <ColumnInfo>
          <Column id="ID" type="INT" size="256"/>
          <Column id="WEAPON_UUID" type="STRING" size="256"/>
          <Column id="RANGE_START" type="INT" size="256"/>
          <Column id="RANGE_END" type="INT" size="256"/>
          <Column id="HEAD" type="FLOAT" size="256"/>
          <Column id="BODY" type="FLOAT" size="256"/>
          <Column id="LEG" type="FLOAT" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_view_weapon">
        <ColumnInfo>
          <Column id="UUID" type="STRING" size="256"/>
          <Column id="DISPLAY_NAME" type="STRING" size="256"/>
          <Column id="DESCRIPTION" type="STRING" size="4000"/>
          <Column id="DISPLAY_ICON" type="STRING" size="1000"/>
          <Column id="COST" type="INT" size="256"/>
          <Column id="CATEGORY" type="STRING" size="256"/>
          <Column id="FIRE_RATE" type="FLOAT" size="256"/>
          <Column id="MAGAZINE_SIZE" type="INT" size="256"/>
          <Column id="EQUIP_TIME" type="FLOAT" size="256"/>
          <Column id="RELOAD_TIME" type="FLOAT" size="256"/>
          <Column id="RUN_SPEED" type="FLOAT" size="256"/>
          <Column id="FIRST_ACCURACY" type="FLOAT" size="256"/>
          <Column id="WALL_PENETRATION" type="STRING" size="256"/>
          <Column id="HAS_ADS" type="STRING" size="256"/>
          <Column id="ADS_ZOOM" type="FLOAT" size="256"/>
          <Column id="ADS_FIRE_RATE" type="FLOAT" size="256"/>
          <Column id="ADS_RUN_SPEED" type="FLOAT" size="256"/>
          <Column id="ADS_ACCURACY" type="FLOAT" size="256"/>
          <Column id="ALT_FIRE_TYPE" type="STRING" size="256"/>
          <Column id="ALT_SHOTGUN_PELLETS" type="INT" size="256"/>
          <Column id="ALT_BURST_RATE" type="FLOAT" size="256"/>
          <Column id="ALT_BURST_DISTANCE" type="FLOAT" size="256"/>
          <Column id="ADS_BURST_COUNT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_view_damage">
        <ColumnInfo>
          <Column id="ID" type="INT" size="256"/>
          <Column id="WEAPON_UUID" type="STRING" size="256"/>
          <Column id="RANGE_START" type="INT" size="256"/>
          <Column id="RANGE_END" type="INT" size="256"/>
          <Column id="HEAD" type="FLOAT" size="256"/>
          <Column id="BODY" type="FLOAT" size="256"/>
          <Column id="LEG" type="FLOAT" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.1"><![CDATA[this.fvApp = nexacro.getApplication();

var selected_weapon_name = "";

this.valo6001fm_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	var strSvcID        = "searchWeaponStats";
    var strURL          = "SvcUrl::getWeaponData.do";
    var strInDatasets   = "";
    var strOutDatasets  = "ds_weapon=out_weapon ds_damage=out_damage";
    var strArgument     = "";
    var strCallbackFunc = "fn_Callback";
    
    this.transaction(strSvcID, strURL, strInDatasets, strOutDatasets, strArgument, strCallbackFunc);
	
	// 테마 변경 이벤트 핸들러 추가
    this.fvApp.gds_theme.addEventHandler("oncolumnchanged", this.fn_change_theme, this);
    
    // 최초 로드시 현재 저장된 테마를 강제로 한 번 적용
    this.fn_setThemeCss();
};

this.valo6001fm_onclose = function(obj:nexacro.Form,e:nexacro.CloseEventInfo)
{
	// 테마 이벤트 핸들러 제거
    this.fvApp.gds_theme.removeEventHandler("oncolumnchanged", this.fn_change_theme, this);
};
this.fn_change_theme = function(obj:nexacro.NormalDataset, e:nexacro.DSColChangeEventInfo)
{
    // 데이터셋이 변경되었을 때 CSS 적용 함수 호출
    this.fn_setThemeCss();
};

// 실제 CSS를 변경하는 로직
this.fn_setThemeCss = function()
{
    // 현재 데이터셋에 설정된 값 가져오기
    var sThemeColor = this.fvApp.gds_theme.getColumn(0, "COLOR");
    
    // 값에 따라 스타일 적용
    if (sThemeColor == "white") {
        nexacro.loadStyle("xcssrc::theme_white.xcss");
		this.grd_ranking.setCellProperty( "head", 0, "background", "#9b9baf" );
		this.grd_ranking.setCellProperty( "head", 1, "background", "#85859d" );
		this.grd_ranking.setCellProperty( "head", 2, "background", "#9b9baf" );
		this.grd_ranking.setCellProperty( "head", 3, "background", "#85859d" );
		this.grd_ranking.setCellProperty( "head", 4, "background", "#9b9baf" );
    } else {
        nexacro.loadStyle("xcssrc::theme_black.xcss");
		this.grd_ranking.setCellProperty( "head", 0, "background", "#63637c" );
		this.grd_ranking.setCellProperty( "head", 1, "background", "#4d4d60" );
		this.grd_ranking.setCellProperty( "head", 2, "background", "#63637c" );
		this.grd_ranking.setCellProperty( "head", 3, "background", "#4d4d60" );
		this.grd_ranking.setCellProperty( "head", 4, "background", "#63637c" );
    }
    
    this.resetScroll();
};

this.btn_reload_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var strSvcID        = "searchWeaponNewStats";
    var strURL          = "SvcUrl::syncWeaponData.do";
    var strInDatasets   = "";
    var strOutDatasets  = "ds_weapon=out_weapon ds_damage=out_damage";
    var strArgument     = "";
    var strCallbackFunc = "fn_Callback";
    
    this.transaction(strSvcID, strURL, strInDatasets, strOutDatasets, strArgument, strCallbackFunc);
};

this.fn_Callback = function(strSvcId, nErrorCode, strErrorMsg)
{
    if (nErrorCode < 0) {
		return;
	}
	
    this.div_weapon.form.fn_init(); 
};



/*var asdf = 1;*/
this.fn_selectedWeapon = function(sBtnId, sName, sUUID)
{
	selected_weapon_name = sName;
	// 	if(asdf%2==1){
	// 		
	// 		//this.video_weapon.url = "https://cmsassets.rgpub.io/sanity/files/dsfx7636/game_data/9df59d490062acceb7c6ca32a3650b55718381f7.mp4?accountingTag=VAL";
	// 		//this.video_weapon.url = "http://localhost:8088/edupack_egov/p03/project030/181376-866506956_small.mp4";
	// 		this.video_weapon.url = "http://172.10.14.135:8088/edupack_egov/p03/project030/181376-866506956_small.mp4";
	// 	}
	// 	else{
	// 		//this.video_weapon.url = "http://localhost:8088/edupack_egov/p03/project030/big_buck_bunny.mp4";
	// 		this.video_weapon.url = "http://172.10.14.135:8088/edupack_egov/p03/project030/big_buck_bunny.mp4";
	// 	}
	// 	asdf++;
    this.ds_view_weapon.clearData(); //기존 정보 비우기
	this.ds_view_damage.clearData(); // 기존 데미지 정보 비우기
    
    // UUID와 같은 행(Row) 찾기
    var nFindRow = this.ds_weapon.findRow("UUID", sUUID);
	var nNewRow = this.ds_view_weapon.addRow();
	
	// 원본의 nFindRow 데이터를 -> 뷰 데이터셋의 nNewRow로 복사
	this.ds_view_weapon.copyRow(nNewRow, this.ds_weapon, nFindRow);
	
    
    // 원본을 해당 무기(UUID)만 남도록 필터링
    this.ds_damage.filter("WEAPON_UUID == '" + sUUID + "'");
    
    // 필터링된 데이터들만 뷰 데이터셋으로 통째로 복사
    this.ds_view_damage.copyData(this.ds_damage, true);
    this.ds_damage.filter("");
	
	
    var sDisplayName = this.ds_view_weapon.getColumn(0, "DISPLAY_NAME");
    var sCategory    = this.ds_view_weapon.getColumn(0, "CATEGORY");
    var sDesc        = this.ds_view_weapon.getColumn(0, "DESCRIPTION");
    var sCost        = this.ds_view_weapon.getColumn(0, "COST");
	
	
    this.sta_weapon_name.text 			= sDisplayName;
    this.sta_weapon_category.text 		= sCategory;
    this.sta_weapon_description.text	= sDesc;
    this.sta_weapon_cost.text 			= "¤ " + sCost;
    
	if (this.ds_view_weapon.getColumn(0,"WALL_PENETRATION") == "Low") {
		this.list_statistics.setCellProperty("body", "cell_wall_damage", "text", 
			"<fc v='#eb9c00'>낮음</fc>  <fc v='#515163'>중간</fc>  <fc v='#515163'>높음</fc>");
	} else if (this.ds_view_weapon.getColumn(0,"WALL_PENETRATION") == "Medium") {
		this.list_statistics.setCellProperty("body", "cell_wall_damage", "text", 
			"<fc v='#515163'>낮음</fc>  <fc v='#eb9c00'>중간</fc>  <fc v='#515163'>높음</fc>");
	} else {
		this.list_statistics.setCellProperty("body", "cell_wall_damage", "text", 
			"<fc v='#515163'>낮음</fc>  <fc v='#515163'>중간</fc>  <fc v='#eb9c00'>높음</fc>");
	}
	
	this.list_damage.setCellProperty("body", "cell_width", "width", 
		"expr:RANGE_START+RANGE_END");
	this.list_damage.setCellProperty("body", "cell_head_damage", "left", 
		"expr:87+RANGE_START+RANGE_END");
	this.list_damage.setCellProperty("body", "cell_body_damage", "left", 
		"expr:87+RANGE_START+RANGE_END");
	this.list_damage.setCellProperty("body", "cell_leg_damage" , "left", 
		"expr:87+RANGE_START+RANGE_END");
	
	this.list_damage.setCellProperty("body", "cell_head", "left", "20");
	this.list_damage.setCellProperty("body", "cell_body", "left", "20");
	this.list_damage.setCellProperty("body", "cell_leg" , "left", "20");
	
	this.fn_resizeRoleList();
	
	if (this.ds_view_weapon.getColumn(0,"HAS_ADS") == "N"){
		this.grd_ranking.formatid = "origin";
		this.btn_normal.visible = false;
		this.btn_sub.visible = false;
		this.btn_normal_1.visible = true;
		this.btn_normal_1.click();
	} else{
		this.grd_ranking.formatid = "origin";
		this.btn_normal.visible = true;
		this.btn_sub.visible = true;
		this.btn_normal_1.visible = false;
		this.btn_normal.click();
	}
	
	this.fn_setThemeCss();
    this.resetScroll();
};


// 역할군 리스트뷰 다시 그리기
this.fn_resizeRoleList = function()
{
    var nRowHeight = 150;
    
    var nTotalCount = this.ds_view_damage.getRowCount();
	
	if(nTotalCount == 1){
		this.list_damage.height = 150;
		this.list_damage.formatid = "default2";
		this.list_damage.background = "#1f2326";
		this.resetScroll();
		return;
	} else {
		this.list_damage.background = "#31313c";
		this.list_damage.formatid = "default";
	}
	if (nTotalCount % 2 == 1) {
		nTotalCount++;
	}
	nTotalCount=nTotalCount / 2;
    var nNewHeight = nTotalCount * nRowHeight;
    if (nNewHeight == 0) { // 값이 없으면 높이 0
		nNewHeight = 0;
	}
    
    this.list_damage.height = nNewHeight;
    this.resetScroll();
};

var weaponNameEng = "";
this.btn_normal_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	obj.textDecoration = "underline";
	this.btn_sub.textDecoration = "";
	
	this.grd_ranking.formatid = "origin";
	
	this.switch_english(selected_weapon_name);
	//this.video_weapon.url = "http://localhost:8088/edupack_egov/p03/project030/valo_weapon_shoot_video/" + weaponNameEng + "_Left" + ".mp4";
	this.video_weapon.url = "http://172.10.14.135:8088/edupack_egov/p03/project030/valo_weapon_shoot_video/" + weaponNameEng + "_Left" + ".mp4";
	this.video_weapon.play();
	this.video_weapon.repeat = true;
	
	this.fn_setThemeCss();
};

this.btn_sub_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	obj.textDecoration = "underline";
	this.btn_normal.textDecoration = "";
	
	switch(selected_weapon_name) {
	case "클래식" :
		this.grd_ranking.formatid = "switch_classic";
		break;
	case "버키" :
		this.grd_ranking.formatid = "switch_bukky";
		break;
	default:
		this.grd_ranking.formatid = "switch_zoom";
		break;
	}
	//this.video_weapon.url = "http://localhost:8088/edupack_egov/p03/project030/valo_weapon_shoot_video/" + weaponNameEng + "_Right" + ".mp4";
	this.video_weapon.url = "http://172.10.14.135:8088/edupack_egov/p03/project030/valo_weapon_shoot_video/" + weaponNameEng + "_Right" + ".mp4";
	this.video_weapon.play();
	
	this.fn_setThemeCss();
};

this.btn_normal_1_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{		
	this.switch_english(selected_weapon_name);
	//this.video_weapon.url = "http://localhost:8088/edupack_egov/p03/project030/valo_weapon_shoot_video/" + weaponNameEng + "_Left" + ".mp4";
	this.video_weapon.url = "http://172.10.14.135:8088/edupack_egov/p03/project030/valo_weapon_shoot_video/" + weaponNameEng + "_Left" + ".mp4";
	this.video_weapon.play();
	
	this.fn_setThemeCss();
};

this.switch_english = function (weapon_korea)
{
	switch(weapon_korea) {
	case "클래식":
		weaponNameEng = "Classic";
		break;
	case "쇼티":
		weaponNameEng = "Shorty";
		break;
	case "프렌지":
		weaponNameEng = "Frenzy";
		break;
	case "고스트":
		weaponNameEng = "Ghost";
		break;
	case "셰리프":
		weaponNameEng = "Sheriff";
		break;
	case "오딘":
		weaponNameEng = "Odin";
		break;
	case "아레스":
		weaponNameEng = "Ares";
		break;
	case "밴달":
		weaponNameEng = "Vandal";
		break;
	case "불독":
		weaponNameEng = "Bulldog";
		break;
	case "팬텀":
		weaponNameEng = "Phantom";
		break;
	case "저지":
		weaponNameEng = "Judge";
		break;
	case "버키":
		weaponNameEng = "Bucky";
		break;
	case "밴딧":
		weaponNameEng = "Bandit";
		break;
	case "오퍼레이터":
		weaponNameEng = "Operator";
		break;
	case "가디언":
		weaponNameEng = "Guardian";
		break;
	case "아웃로":
		weaponNameEng = "Outlaw";
		break;
	case "마샬":
		weaponNameEng = "Marshal";
		break;
	case "스펙터":
		weaponNameEng = "Spectre";
		break;
	case "스팅어":
		weaponNameEng = "Stinger";
		break;
	default:
    }
};




this.fv_targetPos = 0; // 목표 위치
this.fv_timerId = 8888; // 타이머 ID

this.btn_prev_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
    this.fn_startAnimateScroll(-1200); // 1200 만큼 왼쪽으로
};

this.btn_next_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
    this.fn_startAnimateScroll(1200); // 1200 만큼 오른쪽으로
};

// 애니메이션 시작 세팅 함수
this.fn_startAnimateScroll = function(nOffset)
{
    var objHScroll = this.div_weapon.form.hscrollbar;
    
    // 현재 타이머가 돌고 있다면(이미 움직이는 중), 목표지점을 기준으로 더 이동
    // 멈춰있다면 현재 위치 기준으로 이동
    var nStartPos = (this.fv_targetPos > -1) ? this.fv_targetPos : objHScroll.pos;
    
    // 목표 위치 설정
    this.fv_targetPos = objHScroll.pos + nOffset;
    
    // 최소/최대 범위 체크
    if (this.fv_targetPos < 0) this.fv_targetPos = 0;
    if (this.fv_targetPos > objHScroll.max) this.fv_targetPos = objHScroll.max;
    
    // 타이머 시작 (10ms 마다 실행 -> 1초에 100번 체크)
    this.setTimer(this.fv_timerId, 10);
};

// 부드러운 감속 로직 (ontimer 이벤트에 연결)
this.valo6001fm_ontimer = function(obj:nexacro.Form,e:nexacro.TimerEventInfo)
{
    if (e.timerid == this.fv_timerId)
    {
        var objHScroll = this.div_weapon.form.hscrollbar;
        var nCurrPos = objHScroll.pos;
        
        // 남은 거리 계산
        var nGap = this.fv_targetPos - nCurrPos;
        
        // 1. 거의 다 왔으면(남은 거리가 1픽셀 미만) -> 딱 붙이고 종료
        if (Math.abs(nGap) < 1.5) 
        {
            objHScroll.set_pos(this.fv_targetPos);
            this.killTimer(this.fv_timerId);
            this.fv_targetPos = -1; // 목표 초기화
            return;
        }
        
        // 2. 남은 거리의 15% 만큼만 이동 (이게 부드러움의 핵심!)
        // 0.15 숫자를 줄이면(0.1) 더 느리고 부드럽게, 키우면(0.3) 빠릿하게 움직임
        var nMoveAmount = nGap * 0.15; 
        
        // 아주 조금 남았을 때 최소 이동량 보정 (안 그러면 영원히 안 닿을 수 있음)
        if (nMoveAmount > 0 && nMoveAmount < 1) nMoveAmount = 1;
        if (nMoveAmount < 0 && nMoveAmount > -1) nMoveAmount = -1;
		
        // 위치 적용
        objHScroll.set_pos(nCurrPos + nMoveAmount);
    }
};
this.video_weapon_onplaystatuschanged = function(obj:nexacro.VideoPlayer,e:nexacro.VideoPlayStateChangedEventInfo)
{
	if(e.newstate == "ended")
	{
		this.video_weapon.play();
	}
};


]]></Script>
  </Form>
</FDL>
